(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[185],{1124:(e,n,t)=>{Promise.resolve().then(t.bind(t,3804)),Promise.resolve().then(t.t.bind(t,5214,23)),Promise.resolve().then(t.bind(t,9082)),Promise.resolve().then(t.t.bind(t,6154,23))},4497:(e,n,t)=>{"use strict";t.d(n,{z:()=>l});var r=t(8646),i=t(716),o=t(3098);function a(){let e=(0,r._)(["\n          width: 100%;\n        "]);return a=function(){return e},e}function s(){let e=(0,r._)(["\n          background: var(--background);\n          color: var(--foreground);\n          border: 1px solid var(--foreground);\n\n          &:hover {\n            background: var(--foreground);\n            color: var(--background);\n            border: 1px solid var(--background);\n          }\n        "]);return s=function(){return e},e}let l=e=>{let{variant:n="contained",size:t="small",children:r,fullwidth:l,onClick:c}=e;return(0,i.tZ)("button",{onClick:c,css:(0,o.iv)("display:flex;justify-content:center;align-items:center;border-radius:","small"===t?20:4,"px;cursor:pointer;transition:all 0.2s ease;font-size:","small"===t?12:14,"px;padding:","small"===t?"8px 10px":"14px 12px",";height:","small"===t?28:40,"px;font-weight:","small"===t?400:600,";text-transform:uppercase;border:1px solid transparent;background:var(--foreground);color:var(--background);",l&&(0,o.iv)(a()),"        &:hover{background:var(--background);color:var(--foreground);border:1px solid var(--foreground);}","outlined"===n&&(0,o.iv)(s())),children:r})}},1185:(e,n,t)=>{"use strict";t.d(n,{Z:()=>a});var r=t(716),i=t(2265),o=t(3098);let a=(0,i.memo)(function(){return(0,r.tZ)("div",{css:(0,o.iv)("color:#ff6b00;"),children:"LOGO"})})},3804:(e,n,t)=>{"use strict";t.d(n,{default:()=>D});var r=t(8646),i=t(716),o=t(3098),a=t(2265),s=t(6463),l=t(9960),c=t(9082),d=t(1185);function u(){let e=(0,r._)(["\n      flex-direction: column;\n      height: auto;\n      padding: 40px 0;\n    "]);return u=function(){return e},e}function f(){let e=(0,r._)(["\n              display: block;\n              margin-bottom: 30px;\n            "]);return f=function(){return e},e}function v(){let e=(0,r._)(["\n              cursor: pointer;\n              fill: ",";\n            "]);return v=function(){return e},e}function p(){let e=(0,r._)(["\n                  visibility: ",";\n                "]);return p=function(){return e},e}function h(){let e=(0,r._)(["\n              visibility: hidden;\n              font-size: 12px;\n              ","\n            "]);return h=function(){return e},e}let g={container:(0,o.iv)("display:flex;align-items:center;justify-content:center;height:66px;display:flex;gap:12px;background:#18181833;box-shadow:0px 0.5px 0px 0px #000000cc inset;",l.BC.tabletUp((0,o.iv)(u())),"    backdrop-filter:blur(51px);"),navItem:(0,o.iv)("display:flex;flex-direction:column;align-items:center;height:auto;")},m=[{url:"/search",name:"Home"},{url:"/tags",name:"Tags"}],b=(0,a.memo)(function(){let e=(0,s.useRouter)(),n=(0,s.usePathname)(),{setSlideDirection:t}=(0,c.Y)();return(0,i.BX)("div",{css:g.container,children:[(0,i.tZ)("div",{css:(0,o.iv)("display:none;",l.BC.tabletUp((0,o.iv)(f()))),children:(0,i.tZ)(d.Z,{})}),m.map(r=>(0,i.BX)("div",{css:g.navItem,onClick:()=>{t("right"),e.push(r.url)},children:[(0,i.tZ)("svg",{css:(0,o.iv)(v(),n.includes(r.url)?"#ffffff":"#6a6a6a"),width:"24",height:"24",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,i.tZ)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.34146 2C7.51304 2 6.84146 2.67157 6.84146 3.5C6.84146 4.32843 7.51304 5 8.34146 5H18.7578V14.4233C18.7578 15.2518 19.4294 15.9233 20.2578 15.9233C21.0863 15.9233 21.7578 15.2518 21.7578 14.4233V4.5C21.7578 3.11929 20.6386 2 19.2578 2H8.34146ZM4 6.91463H15.122C16.2265 6.91463 17.122 7.81007 17.122 8.91463V20.0366C17.122 21.1412 16.2265 22.0366 15.122 22.0366H4C2.89543 22.0366 2 21.1412 2 20.0366V8.91464C2 7.81007 2.89543 6.91463 4 6.91463Z"})}),(0,i.tZ)("div",{css:(0,o.iv)(h(),l.BC.tabletUp((0,o.iv)(p(),n.includes(r.url)?"visible":"hidden"))),children:r.name})]},r.url))]})});var x=t(8452),w=t(4497),y=t(6034);let k="https://avl-frontend-exam.herokuapp.com/api/users",C=(0,y.sj)({followers:[],followingUsers:[],currentTab:"followers",page:1,loading:!1,hasMore:!0,toggleFollow:e=>{let n=("following"===C.currentTab?C.followingUsers:C.followers).find(n=>n.id===e);n&&(n.isFollowing=!n.isFollowing)},setCurrentTab:e=>{C.currentTab=e,C.page=1,C.followers=[],C.followingUsers=[],C.hasMore=!0,C.fetchMoreUsers()},fetchMoreUsers:async()=>{if(!C.loading&&C.hasMore){C.loading=!0;try{let e="followers"===C.currentTab?"".concat(k,"/all?page=").concat(C.page,"&pageSize=").concat(5):"".concat(k,"/friends?page=").concat(C.page,"&pageSize=").concat(5),n=await fetch(e),t=await n.json();console.log(t);let r=t.data||[];C.hasMore=t.total>t.pageSize*t.page,"followers"===C.currentTab?C.followers=[...C.followers,...r]:C.followingUsers=[...C.followingUsers,...r],C.page+=1}catch(e){console.error("Failed to fetch users:",e)}finally{C.loading=!1}}}});var Z=t(1818),_=t(2884),B=t(9926);function U(e,n){if(void 0===e.inserted[n.name])return e.insert("",n,e.sheet,!0)}function T(e,n,t){var r=[],i=(0,B.fp)(e,r,t);return r.length<2?t:i+n(r)}var X=function e(n){for(var t="",r=0;r<n.length;r++){var i=n[r];if(null!=i){var o=void 0;switch(typeof i){case"boolean":break;case"object":if(Array.isArray(i))o=e(i);else for(var a in o="",i)i[a]&&a&&(o&&(o+=" "),o+=a);break;default:o=i}o&&(t&&(t+=" "),t+=o)}}return t},F=function(e){var n=(0,Z.Z)(e);n.sheet.speedy=function(e){this.isSpeedy=e},n.compat=!0;var t=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];var i=(0,_.O)(t,n.registered,void 0);return(0,B.My)(n,i,!1),n.key+"-"+i.name};return{css:t,cx:function(){for(var e=arguments.length,r=Array(e),i=0;i<e;i++)r[i]=arguments[i];return T(n.registered,t,X(r))},injectGlobal:function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];var i=(0,_.O)(t,n.registered);U(n,i)},keyframes:function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];var i=(0,_.O)(t,n.registered),o="animation-"+i.name;return U(n,{name:i.name,styles:"@keyframes "+o+"{"+i.styles+"}"}),o},hydrate:function(e){e.forEach(function(e){n.inserted[e]=!0})},flush:function(){n.registered={},n.inserted={},n.sheet.flush()},sheet:n.sheet,cache:n,getRegisteredStyles:B.fp.bind(null,n.registered),merge:T.bind(null,n.registered,t)}}({key:"css"}),E=(F.flush,F.hydrate,F.cx,F.merge,F.getRegisteredStyles,F.injectGlobal,F.keyframes);function I(){let e=(0,r._)(["\n  from {\n    opacity: 0;\n    transform: translateY(10px);\n  }\n  to {\n    opacity: 1;\n    transform: translateY(0);\n  }\n"]);return I=function(){return e},e}function N(){let e=(0,r._)(["\n  from {\n    transform: scaleX(0);\n  }\n  to {\n    transform: scaleX(1);\n  }\n"]);return N=function(){return e},e}F.css,F.sheet,F.cache;let z=E(I()),M=E(N()),P={header:(0,o.iv)("width:100%;display:flex;margin:16px 0;padding-bottom:16px;"),headerTab:(0,o.iv)('flex:1;text-align:center;color:#fff;font-size:16px;font-weight:700;cursor:pointer;padding:8px 0;position:relative;transition:color 0.3s ease;&:hover{color:var(--foreground);}&.active{color:var(--foreground);&::after{content:"";position:absolute;bottom:-1px;left:0;width:100%;height:2px;background:var(--foreground);animation:',M," 0.3s ease forwards;}}"),tabContent:(0,o.iv)("animation:",z," 0.3s ease forwards;")},S=(0,a.memo)(function(){let{currentTab:e,setCurrentTab:n}=(0,x.R)(C);return(0,i.BX)("div",{css:P.header,children:[(0,i.tZ)("div",{css:P.headerTab,className:"followers"===e?"active":"",onClick:()=>n("followers"),children:"Followers"}),(0,i.tZ)("div",{css:P.headerTab,className:"following"===e?"active":"",onClick:()=>n("following"),children:"Following"})]})});function j(){let e=(0,r._)(["\n  from {\n    opacity: 0;\n    transform: translateY(10px);\n  }\n  to {\n    opacity: 1;\n    transform: translateY(0);\n  }\n"]);return j=function(){return e},e}let O=E(j()),R={container:(0,o.iv)("width:100%;overflow:hidden;height:100vh;"),userList:(0,o.iv)("display:flex;flex-direction:column;gap:16px;overflow:auto;padding:0 16px 16px;height:calc(100vh - 66px);"),userItem:(0,o.iv)("display:flex;align-items:center;justify-content:space-between;padding:8px 0;opacity:0;animation:",O," 0.3s ease forwards;&:nth-of-type(odd){animation-delay:0.15s;}&:nth-of-type(even){animation-delay:0.2s;}"),userInfo:(0,o.iv)("display:flex;gap:12px;align-items:center;"),avatarContainer:(0,o.iv)("width:40px;height:40px;border-radius:5px;border:2px solid white;overflow:hidden;"),avatar:(0,o.iv)("width:100%;height:100%;transform:scale(1.5) translateY(2px);object-fit:cover;"),userText:(0,o.iv)("display:flex;flex-direction:column;"),fullname:(0,o.iv)("color:#fff;font-weight:700;"),username:(0,o.iv)("color:#c6c6c6;"),loadingIndicator:(0,o.iv)("text-align:center;padding:20px;color:#c6c6c6;")},Y=()=>{let{followers:e,followingUsers:n,currentTab:t,toggleFollow:r,fetchMoreUsers:s,loading:l,hasMore:c}=(0,x.R)(C),d=(0,a.useRef)(null);return(0,a.useEffect)(()=>{("followers"===t&&0===e.length||"following"===t&&0===n.length)&&s()},[t,s,e.length,n.length]),(0,a.useEffect)(()=>{let e=new IntersectionObserver(e=>{console.log(e[0].isIntersecting,c,!l),e[0].isIntersecting&&c&&!l&&s()},{root:null,rootMargin:"200px 0px",threshold:.05}),n=d.current;return n&&e.observe(d.current),()=>{n&&e.unobserve(d.current)}},[c,l,s]),(0,i.BX)("div",{css:R.container,children:[(0,i.tZ)(S,{}),(0,i.BX)("div",{css:R.userList,children:[("following"===t?n:e).map(e=>(0,i.BX)("div",{css:R.userItem,children:[(0,i.BX)("div",{css:R.userInfo,children:[(0,i.tZ)("div",{css:R.avatarContainer,children:(0,i.tZ)("img",{css:R.avatar,src:e.avatar,alt:e.name})}),(0,i.BX)("div",{css:R.userText,children:[(0,i.tZ)("span",{css:R.fullname,children:e.name}),(0,i.tZ)("span",{css:R.username,children:e.username})]})]}),(0,i.tZ)(w.z,{variant:e.isFollowing?"contained":"outlined",onClick:()=>r(e.id),children:e.isFollowing?"Following":"Follow"})]},e.id)),(0,i.BX)("div",{className:"observer",ref:d,children:[(0,i.tZ)("span",{css:(0,o.iv)("color:transparent;"),children:"."}),l&&(0,i.tZ)("div",{css:R.loadingIndicator,children:"Loading..."})]})]})]})};function A(){let e=(0,r._)(['\n          grid-template-areas: "nav main";\n          grid-template-columns: 80px 1fr;\n        ']);return A=function(){return e},e}function H(){let e=(0,r._)(['\n          grid-template-areas: "nav main sidebar";\n          grid-template-columns: 80px 1fr 375px;\n          .sidebar {\n            display: block;\n          }\n        ']);return H=function(){return e},e}function L(){let e=(0,r._)(["\n            display: initial;\n          "]);return L=function(){return e},e}function D(e){let{children:n}=e,t="/search"===(0,s.usePathname)();return(0,i.BX)("div",{css:(0,o.iv)('display:grid;grid-template-areas:"main"\n          ',t?"'nav'":"",";grid-template-columns:1fr;.main,.nav{width:100%;}.sidebar{display:none;}",l.BC.tabletUp((0,o.iv)(A()))," ",l.BC.largeDesktopUp((0,o.iv)(H()))),children:[(0,i.tZ)("div",{className:"main",css:(0,o.iv)("grid-area:main;min-height:calc(100vh - 66px);height:auto;"),children:n}),(0,i.tZ)("div",{className:"nav",css:(0,o.iv)("grid-area:nav;",t?"":"display: none;"," ",l.BC.tabletUp((0,o.iv)(L()))),children:(0,i.tZ)(b,{})}),(0,i.tZ)("div",{css:(0,o.iv)("grid-area:sidebar;"),className:"sidebar",children:(0,i.tZ)(Y,{})})]})}},9960:(e,n,t)=>{"use strict";t.d(n,{BC:()=>o});var r=t(3098);let i={mobile:600,tablet:900,lgDesktop:1440},o={mobile:e=>(0,r.iv)("@media (max-width:",i.mobile,"px){",e,"}"),tabletUp:e=>(0,r.iv)("@media (min-width:",i.mobile,"px){",e,"}"),desktopUp:e=>(0,r.iv)("@media (min-width:",i.tablet,"px){",e,"}"),largeDesktopUp:e=>(0,r.iv)("@media (min-width:",i.lgDesktop,"px){",e,"}")}},9082:(e,n,t)=>{"use strict";t.d(n,{TransitionProvider:()=>s,Y:()=>l});var r=t(716),i=t(2265),o=t(6463);let a=(0,i.createContext)(void 0);function s(e){let{children:n}=e,[t,s]=(0,i.useState)("none"),[l,c]=(0,i.useState)(!1),d=(0,o.usePathname)();return(0,i.useEffect)(()=>{let e=()=>{c(window.innerWidth<600)};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),(0,i.useEffect)(()=>{if(!l)return;let e=document.querySelector("[data-transition-container]");e&&"none"!==t&&(e.style.transition="none",e.style.transform="translateX(".concat("right"===t?"100%":"-100%",")"),e.offsetHeight,e.style.transition="transform 0.2s 0.1s ease-out ",e.style.transform="translateX(0)")},[d,t,l]),(0,r.tZ)(a.Provider,{value:{slideDirection:t,setSlideDirection:s,isMobile:l},children:n})}function l(){let e=(0,i.useContext)(a);if(void 0===e)throw Error("useTransition must be used within a TransitionProvider");return e}},5214:()=>{},6154:e=>{e.exports={style:{fontFamily:"'Ubuntu', 'Ubuntu Fallback'",fontStyle:"normal"},className:"__className_5863be"}}},e=>{var n=n=>e(e.s=n);e.O(0,[243,92,829,130,215,744],()=>n(1124)),_N_E=e.O()}]);